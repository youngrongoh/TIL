# 2021.2.4 (목)

## HTML 파서

- HTML 파서는 HTML 마크업을 파싱 트리로 변환
- XML에 비해 HTML의 문법은 유연함
  - 공식적인 문법으로 작성하기 어렵게 만듦
  - 파싱하기 어려움
  - BNF를 이용한 전통적인 구문 분석 불가능
  - 문맥 자유 문법 아님
  - XML 파서로도 파싱 어려움
  - 일반적인 파싱 기술 사용할 수 없어 브라우저에서 별도의 파서를 생성
- HTML DTD
  - HTML 정의는 DTD 형식 안에 있음
  - SGML 계열 언어정의를 이용
  - 허용되는 모든 요소, 속성, 중첩구조에 대한 정의를 포함
- DOM(Document Object Model)
  - HTML 문서의 객체 표현
  - DOM은 마크업과 1:1 대응 관계
  - HTML 요소가 JS와 연결되는 지점
  - 파싱 트리는 DOM 요소와 속성노드의 출력 트리
  - 트리의 최상위 객체는 document

> 📖 [브라우저는 어떻게 동작하는가?](https://d2.naver.com/helloworld/59361)

## CORS

- Cross-Origin Resource Sharing
- 다른 도메인으로부터 리소스 요청될 경우, cross-origin HTTP로 요청됨.
- Same-Origin Policy에 따라 보안 상 이유로 브라우저에서 cross-origin HTTP 요청 제한
- 서버와 클라이언트에서 각각 처리가 필요
  - 클라이언트 측
    - 요청을 허용할 도메인을 서버에 알려주는 특정 HTTP 헤더를 추가함으로 해결
    - JSONP 통한 우회적 방식
      - W3C에서 CORS 허용 전에 사용되던 방식
      - 정석적인 방식은 아님
  - 서버 측: 클라이언트에서 넘어온 CORS 요청을 하용할 수 있도록 구현(보통 라이브러리에서 제공)
- 2번의 통신으로 이루어짐
  1. CORS 허용 요청
  2. HTTP 요청

> 📖 Reference
>
> [CORS](https://gogomalibu.tistory.com/74)

## 크로스 브라우징

- 웹 표준을 따라 다른 OS나 플랫폼에 대응하는 것
- 브라우저마다 렌더링 엔진이 다른데, 이 때도 문제 없이 동작하게 하는 것을 목표로 함
- feature detection(기능 탐지)를 통해 브라우저에서 해당 기능을 지원하는지 확인하는 등 대응 필요
- 특정 환경에 맞추기보다, 전체적인 웹 표준을 지키는 데에 집중

## 서버 사이드 렌더링 & 클라이언트 사이트 렌더링

- 서버 사이드

  - 전통적 방식
  - 새로고침마다 서버로부터 리소스 받아 화면에 렌더

- 클라이언트 사이드
  - SPA 방식이 선호되면서 CSR 증가
  - 서버는 단지 JSON 데이터를 보내는 역할 뿐
  - SSR에 비해 초기 구동속도 느림
    - JS가 모든 동작을 수행한 후에 화면에 컨텐츠 표시
  - SEO 불가
  - 보안에 취약

## 렌더링 완료까지 너무 오래걸릴 때

- script 태그를 body 가장 하단에 위치
- async 속성부여
- 네트워크 리소스 블로킹을 통해 불필요한, 무거운 파일 제한

> [#1. 웹 브라우저 & HTML](https://devowen.com/271)
